<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞–∑–∏–Ω–æ –ú–∏–Ω–∏-–∞–ø–ø</title>
  <style>
    /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
    body {
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0; padding: 20px;
      display: flex; flex-direction: column; align-items: center;
      height: 100vh;
      justify-content: center;
      text-align: center;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .case-button {
      margin: 10px;
      padding: 15px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      font-size: 18px;
    }

    .case-button:hover {
      background-color: #45a049;
    }

    /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–µ–π—Å–∞ */
    .modal {
      display: none;
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.4);
      padding-top: 60px;
    }

    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }

    .gift-icon {
      width: 50px;
      height: 50px;
      margin: 10px;
    }

    #openCaseBtn {
      background: #ffbb00;
      border: none;
      border-radius: 10px;
      padding: 15px 30px;
      font-size: 1.25rem;
      color: #333;
      cursor: pointer;
      transition: background 0.3s ease;
      box-shadow: 0 4px 8px rgba(255, 187, 0, 0.5);
    }

    #openCaseBtn:hover {
      background: #ffaa00;
    }

    #result {
      margin-top: 2rem;
      font-size: 1.75rem;
      min-height: 3rem;
      font-weight: 700;
      text-shadow: 0 0 10px #ffcc00;
    }

    #strip {
      display: flex;
      animation: roulette 3s ease-in-out infinite;
    }

    @keyframes roulette {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

  </style>
</head>
<body>
  <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–∞–∑–∏–Ω–æ!</h1>
  
  <!-- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–µ–π—Å–æ–≤ -->
  <div id="cases">
    <button class="case-button" onclick="openCase('gold')">–ó–æ–ª–æ—Ç–æ–π –∫–µ–π—Å ‚Äî 50‚≠ê</button>
    <button class="case-button" onclick="openCase('silver')">–°–µ—Ä–µ–±—Ä—è–Ω—ã–π –∫–µ–π—Å ‚Äî 20‚≠ê</button>
    <button class="case-button" onclick="openCase('bronze')">–ë—Ä–æ–Ω–∑–æ–≤—ã–π –∫–µ–π—Å ‚Äî 5‚≠ê</button>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –∫–µ–π—Å–æ–≤ -->
  <div id="gold-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('gold')">&times;</span>
      <h2>–ó–æ–ª–æ—Ç–æ–π –∫–µ–π—Å</h2>
      <p>–í —ç—Ç–æ–º –∫–µ–π—Å–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∏–≥—Ä–∞—Ç—å —Ä–µ–¥–∫–∏–µ –∏ —Ü–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑—ã! –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –∏ —É–∑–Ω–∞–π—Ç–µ, —á—Ç–æ –≤–∞—Å –∂–¥–µ—Ç.</p>
      <div>
        <img src="https://via.placeholder.com/50?text=üíé" class="gift-icon" alt="üíé">
        <img src="https://via.placeholder.com/50?text=üèÜ" class="gift-icon" alt="üèÜ">
        <img src="https://via.placeholder.com/50?text=üéñÔ∏è" class="gift-icon" alt="üéñÔ∏è">
      </div>
    </div>
  </div>

  <div id="silver-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('silver')">&times;</span>
      <h2>–°–µ—Ä–µ–±—Ä—è–Ω—ã–π –∫–µ–π—Å</h2>
      <p>–í —ç—Ç–æ–º –∫–µ–π—Å–µ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –±–æ–ª–µ–µ –¥–µ—à–µ–≤—ã–µ, –Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –ø—Ä–∏–∑—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—Å –∂–¥–µ—Ç!</p>
      <div>
        <img src="https://via.placeholder.com/50?text=ü•à" class="gift-icon" alt="ü•à">
        <img src="https://via.placeholder.com/50?text=üéñ" class="gift-icon" alt="üéñ">
        <img src="https://via.placeholder.com/50?text=üé≤" class="gift-icon" alt="üé≤">
      </div>
    </div>
  </div>

  <div id="bronze-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('bronze')">&times;</span>
      <h2>–ë—Ä–æ–Ω–∑–æ–≤—ã–π –∫–µ–π—Å</h2>
      <p>–í —ç—Ç–æ–º –∫–µ–π—Å–µ –≤—ã –Ω–∞–π–¥–µ—Ç–µ —Å–∞–º—ã–µ –ø—Ä–æ—Å—Ç—ã–µ, –Ω–æ –≤—Å–µ –∂–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –ø—Ä–∏–∑—ã. –°—Ç–æ–∏—Ç –ª–∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?</p>
      <div>
        <img src="https://via.placeholder.com/50?text=ü•â" class="gift-icon" alt="ü•â">
        <img src="https://via.placeholder.com/50?text=üéüÔ∏è" class="gift-icon" alt="üéüÔ∏è">
        <img src="https://via.placeholder.com/50?text=üí©" class="gift-icon" alt="üí©">
      </div>
    </div>
  </div>

  <!-- –†—É–ª–µ—Ç–∫–∞ –∏ –∫–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è -->
  <h1>üé∞ –û—Ç–∫—Ä–æ–π –∫–µ–π—Å!</h1>
  <button id="openCaseBtn">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å</button>
  <div id="result"></div>

  <div id="roulette">
    <div id="strip">
      <div>üéÅ —Ç–µ–º–Ω—ã–π –ø—Ä–∏–∑</div>
      <div>üéÅ –∏–≥—Ä–æ–≤–æ–π –ø—Ä–∏–∑</div>
      <div>üéÅ –æ—Ñ–∏—Å–Ω—ã–π –º–∞–≥–Ω–∞—Ç –ø—Ä–∏–∑</div>
      <div> –º–æ–Ω–µ—Ç—ã</div>
    </div>
  </div>

  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram WebApp -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();  // —Å–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é –∏ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –æ–∫–Ω–æ

    // –°–ø–∏—Å–æ–∫ –ø—Ä–∏–∑–æ–≤ —Å —à–∞–Ω—Å–∞–º–∏
    const prizes = [
      { chance: 0.05, text: ' —Å—É–ø–µ—Ä –ø—Ä–∏–∑!' },
      { chance: 0.25, text: ' —Ä–µ–¥–∫–∏–π –ø–æ–¥–∞—Ä–æ–∫!' },
      { chance: 0.7, text: ' –Ω–∏—á–µ–≥–æ :(' },
    ];

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–∑–∞
    function getPrize() {
      const roll = Math.random();
      let sum = 0;
      for (const prize of prizes) {
        sum += prize.chance;
        if (roll <= sum) {
          return prize.text;
        }
      }
      return ' –Ω–∏—á–µ–≥–æ :('; 
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–∞ —Å —Ä—É–ª–µ—Ç–∫–æ–π
    function openCase(caseId) {
      console.log("–ö–µ–π—Å –æ—Ç–∫—Ä—ã—Ç:", caseId);  // –ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∞
      startRouletteAnimation();  // –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä—É–ª–µ—Ç–∫–∏
    }

    // –§—É–Ω–∫—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä—É–ª–µ—Ç–∫–∏
    function startRouletteAnimation() {
      const strip = document.getElementById('strip');
      console.log("–ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏");  // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
      strip.style.transform = 'translateX(-500px)';  // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

      // –ö–æ–≥–¥–∞ –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è
      strip.ontransitionend = () => {
        const prize = getPrize();
        document.getElementById('result').textContent = prize;
        tg.sendData(prize);  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram
      }
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
    function closeModal(caseId) {
      document.getElementById(caseId + '-modal').style.display = "none";
    }
  </script>
</body>
</html>
